(this["webpackJsonphall-of-mirrors"]=this["webpackJsonphall-of-mirrors"]||[]).push([[0],{12:function(e,t,a){e.exports={logIn:"App_logIn__7Rynr",flexButtons:"App_flexButtons__2wa66",welcome:"App_welcome__2EYGT",buttons:"App_buttons__23GPN"}},14:function(e,t,a){e.exports={mainContent:"Hall_mainContent__31o2l",form:"Hall_form__1o01v"}},15:function(e,t,a){e.exports={table:"Leaderboard_table__2KQuN",buttons:"Leaderboard_buttons__1ycdw",button:"Leaderboard_button__1_RSB"}},22:function(e,t,a){e.exports={button:"Button_button__19xhJ"}},25:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},44:function(e,t,a){e.exports=a.p+"static/media/default.97569f09.jpg"},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),s=a.n(o),i=(a(30),a(2)),l=a(3),c=a(5),u=a(4),m=a(6),h=a(22),p=a.n(h),d=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:p.a.button,onClick:this.props.onClick},this.props.text)}}]),t}(r.a.Component),f=a(11);a(31),a(35);f.initializeApp({apiKey:"AIzaSyAJ71l4tlltc5zr2VIFN3a92qU_qgbBvRE",authDomain:"hall-of-mirrors-4ea96.firebaseapp.com",databaseURL:"https://hall-of-mirrors-4ea96.firebaseio.com",projectId:"hall-of-mirrors-4ea96",storageBucket:"hall-of-mirrors-4ea96.appspot.com",messagingSenderId:"554567970977",appId:"1:554567970977:web:8a15a6f2b9fb3e3e8c00e0",measurementId:"G-MPEPWF91N4"});var b=f.firestore(),g=new f.auth.GoogleAuthProvider,y=f,E=a(7),w=a(12),v=a.n(w),I=a(8),k=a.n(I),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={rotationValue:a.props.randomNumber360,scale:a.props.randomNumber2,color:"rgb(".concat(a.props.firstRandomNumber255,", ").concat(a.props.secondRandomNumber255,", ").concat(a.props.thirdRandomNumber255,")")},a.resetTransformations=function(){a.props.game?0!==a.state.rotationValue?(a.props.isCorrected(a.props.index,!0),a.setState({rotationValue:0,scale:1,color:"transparent"}),a.props.handleImageClick()):(a.props.isCorrected(a.props.index,!1),a.setState({rotationValue:a.props.randomNumber360,scale:a.props.randomNumber2,color:"rgb(".concat(a.props.firstRandomNumber255,", ").concat(a.props.secondRandomNumber255,", ").concat(a.props.thirdRandomNumber255,")")})):0!==a.state.rotationValue?a.setState({rotationValue:0,scale:1,color:"transparent"}):a.setState({rotationValue:a.props.randomNumber360,scale:a.props.randomNumber2,color:"rgb(".concat(a.props.firstRandomNumber255,", ").concat(a.props.secondRandomNumber255,", ").concat(a.props.thirdRandomNumber255,")")})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="rotate(".concat(this.state.rotationValue,"deg)"),t=Math.floor(Math.sqrt(this.props.numImages)),a={transform:e,width:"".concat(100*t*this.state.scale/this.props.numImages,"vh"),height:"auto"},n={backgroundColor:this.state.color};return r.a.createElement("div",{style:n},r.a.createElement("img",{src:this.props.src,alt:"display",style:a,onClick:this.resetTransformations}))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={correctedArray:a.props.correctedArray},a.isCorrected=function(e,t){var n=a.state.correctedArray;n[e]=t,a.setState({correctedArray:n})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=null!==this.props.user?this.props.user.photoURL:"../../images/default",t=function(e){return Math.ceil(Math.random()*e)},a=[],n=0;n<this.props.numImages;n++)a.push(r.a.createElement(O,{src:e,alt:"display",key:n,randomNumber360:t(360),randomNumber2:t(2),firstRandomNumber255:t(255),secondRandomNumber255:t(255),thirdRandomNumber255:t(255),numImages:this.props.numImages,isCorrected:this.isCorrected,index:n,handleImageClick:this.props.handleImageClick,game:this.props.game}));return r.a.createElement(r.a.Fragment,null,a)}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={difficulty:null,status:!1,runningTime:0,correctedArray:[],numImages:0,winStatus:!1,subWinStatus:!1,scores:[]},a.checkWinStatus=function(){!0===a.state.winStatus&&(alert("You win! You finished difficulty level ".concat(a.state.difficulty.type," in ").concat(a.state.runningTime/1e3," seconds. Your score has been added to the leaderboard, click the leaderboard to check if you've made the top 25 for your difficulty")),b.collection("Leaderboard").doc().set({user:a.props.user.displayName,difficulty:a.state.difficulty.type,finishTime:a.state.runningTime}).then((function(){E.c.navigate("/leaderboard")})).catch((function(e){console.error("Error writing document: ",e)})),a.handleReset())},a.handleClick=function(){for(var e=a.state.difficulty?a.state.difficulty.numImages:a.state.numImages,t=[],n=0;n<e;n++)t=t.concat(!1);a.setState({correctedArray:t}),a.setState((function(e){if(e.status)clearInterval(e.timer);else{var t=Date.now()-e.runningTime;e.timer=setInterval((function(){a.setState({runningTime:Date.now()-t})}),100)}return{status:!e.status}}))},a.handleImageClick=function(){var e=1===a.state.correctedArray.filter((function(e){return!1===e})).length,t=0===a.state.correctedArray.filter((function(e){return!1===e})).length;a.setState({winStatus:e,subWinStatus:t}),a.checkWinStatus()},a.handleReset=function(){a.setState({runningTime:0,status:!0,difficulty:null,winStatus:!1,subWinStatus:!1,correctedArray:[]},a.handleClick)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[{type:"easy",numImages:5},{type:"mediocre",numImages:25},{type:"tough",numImages:50},{type:"hard",numImages:100},{type:"I've literally got all day",numImages:500}].map((function(t,a){return r.a.createElement(d,{className:k.a.button,onClick:function(){e.setState({difficulty:t})},text:t.type,key:a})})),a=this.state.difficulty?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Click the images to reset them back to normal. Reset them all as quickly as you can!"),r.a.createElement("div",{className:k.a.buttons},r.a.createElement("p",{className:k.a.button},Math.ceil(this.state.runningTime/100)/10,"s"),r.a.createElement("button",{className:k.a.button,onClick:this.handleClick},this.state.status?"Pause":"Start"),r.a.createElement("button",{className:k.a.button,onClick:this.handleReset},"Play again?"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"First, select your difficulty"),r.a.createElement("section",{className:k.a.buttons},t)),n=this.state.difficulty&&this.state.status&&!1===this.state.subWinStatus?r.a.createElement("section",{className:k.a.mainContent},r.a.createElement(j,{activate:this.activate,user:this.props.user,numImages:this.state.difficulty.numImages,isActive:this.state.isActive,correctedArray:this.state.correctedArray,handleImageClick:this.handleImageClick,game:!0})):r.a.createElement("section",null);return r.a.createElement(r.a.Fragment,null,a,n)}}]),t}(n.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," Please choose how many of your face you'd like to see"),r.a.createElement("input",{type:"number",onChange:this.props.handleChange}))}}]),t}(n.Component),C=a(14),S=a.n(C),A=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.numImages>5e3?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:S.a.form},r.a.createElement(N,{handleChange:this.props.setInputValue})),r.a.createElement("p",null,"Sorry, loading this many images takes too long. Please choose a number less than or equal to 5000.")):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:S.a.form},r.a.createElement(N,{handleChange:this.props.setInputValue})),r.a.createElement("section",{className:S.a.mainContent},r.a.createElement(j,{user:this.props.user,numImages:this.props.numImages})));return r.a.createElement(r.a.Fragment,null,e)}}]),t}(n.Component),x=a(24),R=a(15),D=a.n(R);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={scores:[],filteredScores:[],chosenDifficulty:null},a.getScores=function(){b.collection("Leaderboard").get().then((function(e){var t=e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.data(),{docId:e.id})})).sort((function(e,t){return e.finishTime-t.finishTime}));a.setState({scores:t})}))},a.leaderboardDifficulty=function(e){var t=a.state.scores.filter((function(t){return t.difficulty===e}));t=t.length>25?t.slice(0,25):t.slice(),a.setState({filteredScores:t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getScores()}},{key:"render",value:function(){var e=this,t=["easy","mediocre","tough","hard","I've literally got all day"].map((function(t,a){return r.a.createElement(d,{className:D.a.button,onClick:function(){e.setState({chosenDifficulty:t},e.leaderboardDifficulty(t))},text:t,key:a})})),a=null==this.state.chosenDifficulty?r.a.createElement("p",null,"Choose a difficulty to view scores for"):r.a.createElement("p",null,"Select a different difficulty?"),n=null==this.state.chosenDifficulty?null:r.a.createElement("tr",null,r.a.createElement("th",null,"Position"),r.a.createElement("th",null,"User's name"),r.a.createElement("th",null,"Finish time (seconds)"));return r.a.createElement(r.a.Fragment,null,a,r.a.createElement("section",{className:D.a.buttons},t),r.a.createElement("table",{className:D.a.table},r.a.createElement("tbody",null,n,this.state.filteredScores.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,t+1),r.a.createElement("th",null,e.user),r.a.createElement("th",null,e.finishTime/1e3))})))))}}]),t}(n.Component),P=a(9),T=a.n(P),V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:T.a.intro},r.a.createElement("p",{className:T.a.mainTitle},"Hall of Mirrors: A ",r.a.createElement("a",{href:"https://www.nology.io/"},"_nology")," ","Brief"),r.a.createElement("p",null,"In week 7/12 of the _nology course, it was our second week of learning React.js. We had gained a decent understanding of how React worked, particularly spending time dealing with the unidirectional data flow it uses, and how to use this to our advantage by passing data as props. We built on this, by incorporating"," ",r.a.createElement("a",{href:"http://firebase.google.com/"},"Firebase")," for auth, databases and hosting. ",r.a.createElement("b",null,"Hall of Mirrors")," is a brief we were set on the Friday morning of this week, to establish our understanding of these concepts. The brief is as follows:")),r.a.createElement("section",{className:T.a.mainBody},r.a.createElement("p",{className:T.a.title},"Description"),r.a.createElement("p",null,"Make a react application that allows the user to login with their gmail account. When logged in, they will be shown their profile picture numerous times. Each picture shown should be modified with different angles and should be different to the other pictures."),r.a.createElement("p",{className:T.a.title},"Requirements"),r.a.createElement("ul",null,r.a.createElement("li",null," Create a new react app using create-react-app"),r.a.createElement("li",null,"Host this application on firebase using your custom domain name"),r.a.createElement("li",null,"When each mirror is clicked it should toggle between a normal look and the distorted mirror look")),r.a.createElement("p",{className:T.a.title},"What next?"),r.a.createElement("p",null,"Following the brief, I saw an opportunity to further consolidate my understanding of React and Firebase, so I set myself the challenge to build upon this app. I extended the Hall of Mirrors brief to include a game. This involved adding a little bit of routing to the site & passing state about a lot. From this I learned a lot about setState() and where it can and cannot be used. Having achieved a functioning game I added a leaderboard which is linked to firestore to incorporate some CRUD and use the auth a bit more. Given some more time working on this I would make the user data context rather than a prop & potentially make my user ID an admin who can delete leaderboard entries, to practice the authorisation side of auth.")))}}]),t}(n.Component),B=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={user:null,numImages:0,rotation:0},n.signIn=function(){y.auth().signInWithPopup(g).then((function(e){var t=e.user;n.setState({user:t}),E.c.navigate("/")})).catch((function(e){return console.log(e)}))},n.signInDefault=function(){n.setState({user:{displayName:"Unknown User",photoURL:a(44)}})},n.setInputValue=function(e){n.setState({numImages:e.target.value})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null!=this.state.user?r.a.createElement("section",{className:v.a.welcome},r.a.createElement("h1",null,"Would you like to enter the Hall of Mirrors or play a game?"),r.a.createElement("section",{className:v.a.buttons},r.a.createElement("button",null,r.a.createElement(E.a,{to:"/hall",style:{textDecoration:"none",color:"white"}},"Enter the Hall")),r.a.createElement("button",null,r.a.createElement(E.a,{style:{textDecoration:"none",color:"white"},to:"/game"},"Play the Game")),r.a.createElement("button",null,r.a.createElement(E.a,{style:{textDecoration:"none",color:"white"},to:"/leaderboard"},"Leaderboard")),r.a.createElement("button",null,r.a.createElement(E.a,{style:{textDecoration:"none",color:"white"},to:"/why"},"Why?"))),r.a.createElement(E.b,null,r.a.createElement(A,{path:"/hall",numImages:this.state.numImages,user:this.state.user,setInputValue:this.setInputValue}),r.a.createElement(_,{user:this.state.user,path:"/game"}),r.a.createElement(W,{path:"leaderboard"}),r.a.createElement(V,{path:"why"}))):r.a.createElement("section",{className:v.a.logIn},r.a.createElement("h1",null," You have to log in to access this website. "),r.a.createElement("section",{className:v.a.flexButtons},r.a.createElement("div",null,r.a.createElement(d,{onClick:this.signIn,text:"Sign in"})),r.a.createElement("div",null,r.a.createElement(d,{onClick:this.signInDefault,text:"Enter as default user"}))));return r.a.createElement(r.a.Fragment,null,e)}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports={buttons:"Game_buttons__16Fy2",button:"Game_button__20II3",mainContent:"Game_mainContent__3zPC8"}},9:function(e,t,a){e.exports={intro:"Why_intro__18pGH",mainTitle:"Why_mainTitle__3jYLz",mainBody:"Why_mainBody__2iSaL",title:"Why_title__3_nfU"}}},[[25,1,2]]]);
//# sourceMappingURL=main.276721ce.chunk.js.map