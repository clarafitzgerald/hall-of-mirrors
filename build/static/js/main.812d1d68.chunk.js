(this["webpackJsonphall-of-mirrors"]=this["webpackJsonphall-of-mirrors"]||[]).push([[0],{11:function(e,t,a){e.exports={logIn:"App_logIn__7Rynr",flexButtons:"App_flexButtons__2wa66",welcome:"App_welcome__2EYGT",buttons:"App_buttons__23GPN"}},13:function(e,t,a){e.exports={mainContent:"Hall_mainContent__31o2l",form:"Hall_form__1o01v"}},14:function(e,t,a){e.exports={table:"Leaderboard_table__2KQuN",buttons:"Leaderboard_buttons__1ycdw",button:"Leaderboard_button__1_RSB"}},21:function(e,t,a){e.exports={button:"Button_button__19xhJ"}},24:function(e,t,a){e.exports=a(44)},29:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/default.97569f09.jpg"},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),c=(a(29),a(2)),l=a(3),i=a(5),u=a(4),m=a(6),h=a(21),p=a.n(h),f=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:p.a.button,onClick:this.props.onClick},this.props.text)}}]),t}(r.a.Component),d=a(10);a(30),a(34);d.initializeApp({apiKey:"AIzaSyAJ71l4tlltc5zr2VIFN3a92qU_qgbBvRE",authDomain:"hall-of-mirrors-4ea96.firebaseapp.com",databaseURL:"https://hall-of-mirrors-4ea96.firebaseio.com",projectId:"hall-of-mirrors-4ea96",storageBucket:"hall-of-mirrors-4ea96.appspot.com",messagingSenderId:"554567970977",appId:"1:554567970977:web:8a15a6f2b9fb3e3e8c00e0",measurementId:"G-MPEPWF91N4"});var b=d.firestore(),y=new d.auth.GoogleAuthProvider,g=d,E=a(7),v=a(11),O=a.n(v),I=a(8),j=a.n(I),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={rotationValue:a.props.randomNumber360,scale:a.props.randomNumber2,color:"rgb(".concat(a.props.firstRandomNumber255,", ").concat(a.props.secondRandomNumber255,", ").concat(a.props.thirdRandomNumber255,")")},a.resetTransformations=function(){0!==a.state.rotationValue?(a.props.isCorrected(a.props.index,!0),a.setState({rotationValue:0,scale:1,color:"transparent"}),a.props.handleImageClick()):(a.props.isCorrected(a.props.index,!1),a.setState({rotationValue:a.props.randomNumber360,scale:a.props.randomNumber2,color:"rgb(".concat(a.props.firstRandomNumber255,", ").concat(a.props.secondRandomNumber255,", ").concat(a.props.thirdRandomNumber255,")")}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="rotate(".concat(this.state.rotationValue,"deg)"),t=Math.floor(Math.sqrt(this.props.numImages)),a={transform:e,width:"".concat(100*t*this.state.scale/this.props.numImages,"vh"),height:"auto"},n={backgroundColor:this.state.color};return r.a.createElement("div",{style:n},r.a.createElement("img",{src:this.props.src,alt:"display",style:a,onClick:this.resetTransformations}))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={correctedArray:a.props.correctedArray},a.isCorrected=function(e,t){var n=a.state.correctedArray;n[e]=t,a.setState({correctedArray:n})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=null!==this.props.user?this.props.user.photoURL:"../../images/default",t=function(e){return Math.ceil(Math.random()*e)},a=[],n=0;n<this.props.numImages;n++)a.push(r.a.createElement(k,{src:e,alt:"display",key:n,randomNumber360:t(360),randomNumber2:t(2),firstRandomNumber255:t(255),secondRandomNumber255:t(255),thirdRandomNumber255:t(255),numImages:this.props.numImages,isCorrected:this.isCorrected,index:n,handleImageClick:this.props.handleImageClick}));return r.a.createElement(r.a.Fragment,null,a)}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={difficulty:null,status:!1,runningTime:0,correctedArray:[],numImages:0,winStatus:!1,subWinStatus:!1,scores:[]},a.checkWinStatus=function(){!0===a.state.winStatus&&(alert("You win! You finished difficulty level ".concat(a.state.difficulty.type," in ").concat(a.state.runningTime/1e3," seconds. Your score has been added to the leaderboard, click the leaderboard to check if you've made the top 25 for your difficulty")),b.collection("Leaderboard").doc().set({user:a.props.user.displayName,difficulty:a.state.difficulty.type,finishTime:a.state.runningTime}).then((function(){E.c.navigate("/leaderboard")})).catch((function(e){console.error("Error writing document: ",e)})),a.handleReset())},a.handleClick=function(){for(var e=a.state.difficulty?a.state.difficulty.numImages:a.state.numImages,t=[],n=0;n<e;n++)t=t.concat(!1);a.setState({correctedArray:t}),a.setState((function(e){if(e.status)clearInterval(e.timer);else{var t=Date.now()-e.runningTime;e.timer=setInterval((function(){a.setState({runningTime:Date.now()-t})}),100)}return{status:!e.status}}))},a.handleImageClick=function(){var e=1===a.state.correctedArray.filter((function(e){return!1===e})).length,t=0===a.state.correctedArray.filter((function(e){return!1===e})).length;a.setState({winStatus:e,subWinStatus:t}),a.checkWinStatus()},a.handleReset=function(){a.setState({runningTime:0,status:!0,difficulty:null,winStatus:!1,subWinStatus:!1,correctedArray:[]},a.handleClick)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[{type:"easy",numImages:5},{type:"mediocre",numImages:25},{type:"tough",numImages:50},{type:"hard",numImages:100},{type:"I've literally got all day",numImages:500}].map((function(t,a){return r.a.createElement(f,{className:j.a.button,onClick:function(){e.setState({difficulty:t})},text:t.type,key:a})})),a=this.state.difficulty?r.a.createElement("div",{className:j.a.buttons},r.a.createElement("p",{className:j.a.button},Math.ceil(this.state.runningTime/100)/10,"s"),r.a.createElement("button",{className:j.a.button,onClick:this.handleClick},this.state.status?"Pause":"Start"),r.a.createElement("button",{className:j.a.button,onClick:this.handleReset},"Play again?")):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"First, select your difficulty"),r.a.createElement("section",{className:j.a.buttons},t)),n=this.state.difficulty&&this.state.status&&!1===this.state.subWinStatus?r.a.createElement("section",{className:j.a.mainContent},r.a.createElement(C,{activate:this.activate,user:this.props.user,numImages:this.state.difficulty.numImages,isActive:this.state.isActive,correctedArray:this.state.correctedArray,handleImageClick:this.handleImageClick})):r.a.createElement("section",null);return r.a.createElement(r.a.Fragment,null,a,n)}}]),t}(n.Component),_=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," Please choose how many of your face you'd like to see"),r.a.createElement("input",{type:"number",onChange:this.props.handleChange}))}}]),t}(n.Component),N=a(13),S=a.n(N),A=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.numImages>5e3?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:S.a.form},r.a.createElement(_,{handleChange:this.props.setInputValue})),r.a.createElement("p",null,"Sorry, loading this many images takes too long. Please choose a number less than or equal to 5000.")):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:S.a.form},r.a.createElement(_,{handleChange:this.props.setInputValue})),r.a.createElement("section",{className:S.a.mainContent},r.a.createElement(C,{user:this.props.user,numImages:this.props.numImages})));return r.a.createElement(r.a.Fragment,null,e)}}]),t}(n.Component),x=a(23),P=a(14),D=a.n(P);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={scores:[],filteredScores:[],chosenDifficulty:null},a.getScores=function(){b.collection("Leaderboard").get().then((function(e){var t=e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.data(),{docId:e.id})})).sort((function(e,t){return e.finishTime-t.finishTime}));a.setState({scores:t})}))},a.leaderboardDifficulty=function(e){var t=a.state.scores.filter((function(t){return t.difficulty===e}));t=t.length>25?t.slice(0,25):t.slice(),a.setState({filteredScores:t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getScores()}},{key:"render",value:function(){var e=this,t=["easy","mediocre","tough","hard","I've literally got all day"].map((function(t,a){return r.a.createElement(f,{className:D.a.button,onClick:function(){e.setState({chosenDifficulty:t},e.leaderboardDifficulty(t))},text:t,key:a})})),a=null==this.state.chosenDifficulty?r.a.createElement("p",null,"Choose a difficulty to view scores for"):r.a.createElement("p",null,"Select a different difficulty?"),n=null==this.state.chosenDifficulty?null:r.a.createElement("tr",null,r.a.createElement("th",null,"Position"),r.a.createElement("th",null,"User's name"),r.a.createElement("th",null,"Finish time (seconds)"));return r.a.createElement(r.a.Fragment,null,a,r.a.createElement("section",{className:D.a.buttons},t),r.a.createElement("table",{className:D.a.table},r.a.createElement("tbody",null,n,this.state.filteredScores.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,t+1),r.a.createElement("th",null,e.user),r.a.createElement("th",null,e.finishTime/1e3))})))))}}]),t}(n.Component),T=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={user:null,numImages:0,rotation:0},n.signIn=function(){g.auth().signInWithPopup(y).then((function(e){var t=e.user;n.setState({user:t}),E.c.navigate("/")})).catch((function(e){return console.log(e)}))},n.signInDefault=function(){n.setState({user:{displayName:"Unknown User",photoURL:a(43)}})},n.setInputValue=function(e){n.setState({numImages:e.target.value})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null!=this.state.user?r.a.createElement("section",{className:O.a.welcome},r.a.createElement("h1",null,"Would you like to enter the Hall of Mirrors or play a game?"),r.a.createElement("section",{className:O.a.buttons},r.a.createElement("button",null,r.a.createElement(E.a,{to:"/hall",style:{textDecoration:"none",color:"white"}},"Enter the Hall")),r.a.createElement("button",null,r.a.createElement(E.a,{style:{textDecoration:"none",color:"white"},to:"/game"},"Play the Game")),r.a.createElement("button",null,r.a.createElement(E.a,{style:{textDecoration:"none",color:"white"},to:"/leaderboard"},"Leaderboard"))),r.a.createElement(E.b,null,r.a.createElement(A,{path:"/hall",numImages:this.state.numImages,user:this.state.user,setInputValue:this.setInputValue}),r.a.createElement(w,{user:this.state.user,path:"/game"}),r.a.createElement(F,{path:"leaderboard"}))):r.a.createElement("section",{className:O.a.logIn},r.a.createElement("h1",null," You have to log in to access this website. "),r.a.createElement("section",{className:O.a.flexButtons},r.a.createElement("div",null,r.a.createElement(f,{onClick:this.signIn,text:"Sign in"})),r.a.createElement("div",null,r.a.createElement(f,{onClick:this.signInDefault,text:"Enter as default user"}))));return r.a.createElement(r.a.Fragment,null,e)}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports={buttons:"Game_buttons__16Fy2",button:"Game_button__20II3",mainContent:"Game_mainContent__3zPC8"}}},[[24,1,2]]]);
//# sourceMappingURL=main.812d1d68.chunk.js.map